import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,e as t}from"./app-CcdNUK7S.js";const e={},o=t(`<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><blockquote><p>安装了TensorFlow,训练的时候死活用不到GPU,特别是在docker环境中,GPU是否可检查更为重要</p></blockquote><h2 id="依赖条件" tabindex="-1"><a class="header-anchor" href="#依赖条件"><span>依赖条件</span></a></h2><blockquote><p>已经安装好python、响应版本GPU的驱动和nvidia的驱动</p></blockquote><h2 id="检测代码" tabindex="-1"><a class="header-anchor" href="#检测代码"><span>检测代码</span></a></h2><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf

<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>reduce_sum<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>config<span class="token punctuation">.</span>list_physical_devices<span class="token punctuation">(</span><span class="token string">&#39;GPU&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>输出结果可以查看是否有GPU信息</p></blockquote><h2 id="torch的gpu检测" tabindex="-1"><a class="header-anchor" href="#torch的gpu检测"><span>torch的GPU检测</span></a></h2><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> torch

<span class="token comment"># 检查CUDA是否可用</span>
<span class="token keyword">if</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 输出可用的CUDA设备数量</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>device_count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;GPU(s) available.&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 输出当前GPU设备的名称</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Current GPU:&quot;</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>get_device_name<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;CUDA is not available. Using CPU.&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),p=[o];function c(i,l){return a(),s("div",null,p)}const d=n(e,[["render",c],["__file","728772.html.vue"]]),k=JSON.parse(`{"path":"/p2024/Python/728772.html","title":"TensorFlow检测GPU是否可用","lang":"zh-CN","frontmatter":{"permalink":"/p2024/Python/728772.html","lang":"zh-CN","title":"TensorFlow检测GPU是否可用","description":"TensorFlow检测GPU是否可用","isOriginal":true,"date":"2024-04-01T00:00:00.000Z","category":["GPU","TensorFlow"],"tag":["GPU","TensorFlow"],"head":[["meta",{"name":"keywords","content":"TensorFlow检测GPU是否可用,TensorFlow"}],["meta",{"property":"og:url","content":"https://hub.nstudy.org/p2024/Python/728772.html"}],["meta",{"property":"og:site_name","content":"Jack's 新学习基地"}],["meta",{"property":"og:title","content":"TensorFlow检测GPU是否可用"}],["meta",{"property":"og:description","content":"TensorFlow检测GPU是否可用"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-19T07:50:23.000Z"}],["meta",{"property":"article:author","content":"Jack"}],["meta",{"property":"article:tag","content":"GPU"}],["meta",{"property":"article:tag","content":"TensorFlow"}],["meta",{"property":"article:published_time","content":"2024-04-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-19T07:50:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TensorFlow检测GPU是否可用\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-19T07:50:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jack\\",\\"url\\":\\"https://hub.nstudy.org\\"}]}"]],"star":true,"sticky":true},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"依赖条件","slug":"依赖条件","link":"#依赖条件","children":[]},{"level":2,"title":"检测代码","slug":"检测代码","link":"#检测代码","children":[]},{"level":2,"title":"torch的GPU检测","slug":"torch的gpu检测","link":"#torch的gpu检测","children":[]}],"git":{"createdTime":1713513023000,"updatedTime":1713513023000,"contributors":[{"name":"lizhiquan","email":"lizhiquan@jianke.com","commits":1}]},"readingTime":{"minutes":0.66,"words":197},"filePathRelative":"05.Python/20240401_TensorFlow检测GPU是否可用.md","localizedDate":"2024年4月1日","excerpt":"<h2>背景</h2>\\n<blockquote>\\n<p>安装了TensorFlow,训练的时候死活用不到GPU,特别是在docker环境中,GPU是否可检查更为重要</p>\\n</blockquote>\\n<h2>依赖条件</h2>\\n<blockquote>\\n<p>已经安装好python、响应版本GPU的驱动和nvidia的驱动</p>\\n</blockquote>\\n<h2>检测代码</h2>\\n<div class=\\"language-python\\" data-ext=\\"py\\" data-title=\\"py\\"><pre class=\\"language-python\\"><code><span class=\\"token keyword\\">import</span> tensorflow <span class=\\"token keyword\\">as</span> tf\\n\\n<span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>tf<span class=\\"token punctuation\\">.</span>__version__<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>tf<span class=\\"token punctuation\\">.</span>reduce_sum<span class=\\"token punctuation\\">(</span>tf<span class=\\"token punctuation\\">.</span>random<span class=\\"token punctuation\\">.</span>normal<span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">[</span><span class=\\"token number\\">1000</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1000</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>tf<span class=\\"token punctuation\\">.</span>config<span class=\\"token punctuation\\">.</span>list_physical_devices<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'GPU'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span>\\n\\n</code></pre></div>"}`);export{d as comp,k as data};
