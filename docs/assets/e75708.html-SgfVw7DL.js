import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o,c,a as n,b as s,d as p,e as l}from"./app-0RuRy7YQ.js";const i={},r=n("h1",{id:"ubuntu-22-04-3-lts-安装docker",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ubuntu-22-04-3-lts-安装docker"},[n("span",null,"Ubuntu 22.04.3 LTS_安装Docker")])],-1),u=n("br",null,null,-1),d={href:"https://docs.docker.com/engine/install/ubuntu/",target:"_blank",rel:"noopener noreferrer"},k=l(`<h2 id="安装操作脚本" tabindex="-1"><a class="header-anchor" href="#安装操作脚本"><span>安装操作脚本</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>root@ubuntu:~<span class="token comment"># lsb_release -a</span>
    No LSB modules are available.
    Distributor ID:    Ubuntu
    Description:    Ubuntu <span class="token number">22.04</span>.3 LTS
    Release:    <span class="token number">22.04</span>
    Codename:    jammy

<span class="token comment"># Uninstall old versions </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">pkg</span> <span class="token keyword">in</span> docker.io docker-doc <span class="token function">docker-compose</span> podman-docker containerd runc<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> remove <span class="token variable">$pkg</span><span class="token punctuation">;</span> <span class="token keyword">done</span>

<span class="token comment">#for pkg in docker-ce docker-ce-cli containerd.io docker-compose-plugin; do sudo apt-get remove $pkg; done</span>

<span class="token comment"># Add Docker&#39;s official GPG key:</span>
<span class="token function">apt-get</span> update
<span class="token function">apt-get</span> <span class="token function">install</span> ca-certificates <span class="token function">curl</span> gnupg
<span class="token function">install</span> <span class="token parameter variable">-m</span> 0755 <span class="token parameter variable">-d</span> /etc/apt/keyrings
<span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /etc/apt/keyrings/docker.gpg
<span class="token comment"># https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg</span>
<span class="token function">chmod</span> a+r /etc/apt/keyrings/docker.gpg

<span class="token comment"># Add the repository to Apt sources:</span>
<span class="token builtin class-name">echo</span> <span class="token punctuation">\\</span>
  <span class="token string">&quot;deb [arch=&quot;</span><span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span><span class="token string">&quot; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\
  &quot;</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">.</span> /etc/os-release <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$VERSION_CODENAME</span>&quot;</span><span class="token variable">)</span></span><span class="token string">&quot; stable&quot;</span> <span class="token operator">|</span> <span class="token punctuation">\\</span>
  <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
<span class="token comment"># https://mirrors.aliyun.com/docker-ce/linux/ubuntu</span>
<span class="token function">apt-get</span> update

<span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
<span class="token comment"># apt-cache madison docker-ce</span>
<span class="token comment"># apt-cache policy docker-ce</span>

<span class="token function">docker</span> network <span class="token function">ls</span>
<span class="token function">ip</span> addr
<span class="token comment">#3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default </span>
<span class="token comment">#    link/ether 02:42:31:35:7f:10 brd ff:ff:ff:ff:ff:ff</span>
<span class="token comment">#    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0</span>
<span class="token comment">#       valid_lft forever preferred_lft forever</span>

<span class="token comment"># 更新国内源</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://docker.nju.edu.cn/v2/ubuntu/manifests/latest
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://docker.nju.edu.cn/v2/_catalog
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://docker.nju.edu.cn/v2/ubuntu/tags/list

<span class="token function">vim</span> /etc/docker/daemon.json
<span class="token punctuation">{</span>
    <span class="token string">&quot;bip&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;192.xxx.xxx.1/24&quot;</span>,
    <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;https://docker.nju.edu.cn&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment"># 开机启动</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
<span class="token function">sudo</span> systemctl status <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function m(b,v){const a=t("ExternalLinkIcon");return o(),c("div",null,[r,n("blockquote",null,[n("p",null,[s("本实践将在 Ubuntu 22.04.3LTS 系统上进行安装测试"),u,s(" 参考资料 : "),n("a",d,[s("参考资料"),p(a)])])]),k])}const h=e(i,[["render",m],["__file","e75708.html.vue"]]),y=JSON.parse(`{"path":"/p2024/Docker/e75708.html","title":"Ubuntu 22.04.3 LTS_安装Docker","lang":"zh-CN","frontmatter":{"permalink":"/p2024/Docker/e75708.html","lang":"zh-CN","title":"Ubuntu 22.04.3 LTS_安装Docker","description":"Ubuntu 22.04.3 LTS_安装Docker","isOriginal":true,"date":"2024-03-27T00:00:00.000Z","category":["Docker","Ubuntu"],"tag":["Docker","Ubuntu"],"head":[["meta",{"name":"keywords","content":"Ubuntu 22.04.3 LTS_安装Docker"}],["meta",{"property":"og:url","content":"https://hub.nstudy.org/p2024/Docker/e75708.html"}],["meta",{"property":"og:site_name","content":"Jack's 新学习基地"}],["meta",{"property":"og:title","content":"Ubuntu 22.04.3 LTS_安装Docker"}],["meta",{"property":"og:description","content":"Ubuntu 22.04.3 LTS_安装Docker"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T06:52:02.000Z"}],["meta",{"property":"article:author","content":"Jack"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:tag","content":"Ubuntu"}],["meta",{"property":"article:published_time","content":"2024-03-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-12T06:52:02.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Ubuntu 22.04.3 LTS_安装Docker\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-27T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-12T06:52:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jack\\",\\"url\\":\\"https://hub.nstudy.org\\"}]}"]],"star":true,"sticky":true},"headers":[{"level":2,"title":"安装操作脚本","slug":"安装操作脚本","link":"#安装操作脚本","children":[]}],"git":{"createdTime":1712904722000,"updatedTime":1712904722000,"contributors":[{"name":"lizhiquan","email":"lizhiquan@jianke.com","commits":1}]},"readingTime":{"minutes":1.09,"words":327},"filePathRelative":"02.Docker/20240327_Ubuntu22.04.3LTS安装Docker.md","localizedDate":"2024年3月27日","excerpt":"\\n<blockquote>\\n<p>本实践将在 Ubuntu 22.04.3LTS 系统上进行安装测试<br>\\n参考资料 : <a href=\\"https://docs.docker.com/engine/install/ubuntu/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">参考资料</a></p>\\n</blockquote>\\n<h2>安装操作脚本</h2>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code>root@ubuntu:~<span class=\\"token comment\\"># lsb_release -a</span>\\n    No LSB modules are available.\\n    Distributor ID:    Ubuntu\\n    Description:    Ubuntu <span class=\\"token number\\">22.04</span>.3 LTS\\n    Release:    <span class=\\"token number\\">22.04</span>\\n    Codename:    jammy\\n\\n<span class=\\"token comment\\"># Uninstall old versions </span>\\n<span class=\\"token keyword\\">for</span> <span class=\\"token for-or-select variable\\">pkg</span> <span class=\\"token keyword\\">in</span> docker.io docker-doc <span class=\\"token function\\">docker-compose</span> podman-docker containerd runc<span class=\\"token punctuation\\">;</span> <span class=\\"token keyword\\">do</span> <span class=\\"token function\\">sudo</span> <span class=\\"token function\\">apt-get</span> remove <span class=\\"token variable\\">$pkg</span><span class=\\"token punctuation\\">;</span> <span class=\\"token keyword\\">done</span>\\n\\n<span class=\\"token comment\\">#for pkg in docker-ce docker-ce-cli containerd.io docker-compose-plugin; do sudo apt-get remove $pkg; done</span>\\n\\n<span class=\\"token comment\\"># Add Docker's official GPG key:</span>\\n<span class=\\"token function\\">apt-get</span> update\\n<span class=\\"token function\\">apt-get</span> <span class=\\"token function\\">install</span> ca-certificates <span class=\\"token function\\">curl</span> gnupg\\n<span class=\\"token function\\">install</span> <span class=\\"token parameter variable\\">-m</span> 0755 <span class=\\"token parameter variable\\">-d</span> /etc/apt/keyrings\\n<span class=\\"token function\\">curl</span> <span class=\\"token parameter variable\\">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class=\\"token operator\\">|</span> <span class=\\"token function\\">sudo</span> gpg <span class=\\"token parameter variable\\">--dearmor</span> <span class=\\"token parameter variable\\">-o</span> /etc/apt/keyrings/docker.gpg\\n<span class=\\"token comment\\"># https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg</span>\\n<span class=\\"token function\\">chmod</span> a+r /etc/apt/keyrings/docker.gpg\\n\\n<span class=\\"token comment\\"># Add the repository to Apt sources:</span>\\n<span class=\\"token builtin class-name\\">echo</span> <span class=\\"token punctuation\\">\\\\</span>\\n  <span class=\\"token string\\">\\"deb [arch=\\"</span><span class=\\"token variable\\"><span class=\\"token variable\\">$(</span>dpkg --print-architecture<span class=\\"token variable\\">)</span></span><span class=\\"token string\\">\\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\\\\n  \\"</span><span class=\\"token variable\\"><span class=\\"token variable\\">$(</span><span class=\\"token builtin class-name\\">.</span> /etc/os-release <span class=\\"token operator\\">&amp;&amp;</span> <span class=\\"token builtin class-name\\">echo</span> <span class=\\"token string\\">\\"<span class=\\"token variable\\">$VERSION_CODENAME</span>\\"</span><span class=\\"token variable\\">)</span></span><span class=\\"token string\\">\\" stable\\"</span> <span class=\\"token operator\\">|</span> <span class=\\"token punctuation\\">\\\\</span>\\n  <span class=\\"token function\\">sudo</span> <span class=\\"token function\\">tee</span> /etc/apt/sources.list.d/docker.list <span class=\\"token operator\\">&gt;</span> /dev/null\\n<span class=\\"token comment\\"># https://mirrors.aliyun.com/docker-ce/linux/ubuntu</span>\\n<span class=\\"token function\\">apt-get</span> update\\n\\n<span class=\\"token function\\">apt-get</span> <span class=\\"token function\\">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\\n<span class=\\"token comment\\"># apt-cache madison docker-ce</span>\\n<span class=\\"token comment\\"># apt-cache policy docker-ce</span>\\n\\n<span class=\\"token function\\">docker</span> network <span class=\\"token function\\">ls</span>\\n<span class=\\"token function\\">ip</span> addr\\n<span class=\\"token comment\\">#3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default </span>\\n<span class=\\"token comment\\">#    link/ether 02:42:31:35:7f:10 brd ff:ff:ff:ff:ff:ff</span>\\n<span class=\\"token comment\\">#    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0</span>\\n<span class=\\"token comment\\">#       valid_lft forever preferred_lft forever</span>\\n\\n<span class=\\"token comment\\"># 更新国内源</span>\\n<span class=\\"token function\\">curl</span> <span class=\\"token parameter variable\\">-X</span> GET https://docker.nju.edu.cn/v2/ubuntu/manifests/latest\\n<span class=\\"token function\\">curl</span> <span class=\\"token parameter variable\\">-X</span> GET https://docker.nju.edu.cn/v2/_catalog\\n<span class=\\"token function\\">curl</span> <span class=\\"token parameter variable\\">-X</span> GET https://docker.nju.edu.cn/v2/ubuntu/tags/list\\n\\n<span class=\\"token function\\">vim</span> /etc/docker/daemon.json\\n<span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token string\\">\\"bip\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token string\\">\\"192.xxx.xxx.1/24\\"</span>,\\n    <span class=\\"token string\\">\\"registry-mirrors\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token punctuation\\">[</span>\\n        <span class=\\"token string\\">\\"https://docker.nju.edu.cn\\"</span>\\n    <span class=\\"token punctuation\\">]</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token comment\\"># 开机启动</span>\\n<span class=\\"token function\\">sudo</span> systemctl <span class=\\"token builtin class-name\\">enable</span> <span class=\\"token function\\">docker</span>\\n<span class=\\"token function\\">sudo</span> systemctl start <span class=\\"token function\\">docker</span>\\n<span class=\\"token function\\">sudo</span> systemctl status <span class=\\"token function\\">docker</span>\\n</code></pre></div>"}`);export{h as comp,y as data};
