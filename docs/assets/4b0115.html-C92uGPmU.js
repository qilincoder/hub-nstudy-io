import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as i,c as p,a as n,b as s,d as e,e as t}from"./app-C6TnbQc3.js";const r={},c=t('<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><blockquote><p>在有GPU的windows上安装TensorFlow</p></blockquote><h2 id="依赖条件" tabindex="-1"><a class="header-anchor" href="#依赖条件"><span>依赖条件</span></a></h2><blockquote><p>此文文档主要基于windows平台<br> 已经安装好GPU的驱动<br> 已经安装好 conda 环境</p></blockquote><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2>',5),u={href:"https://tensorflow.google.cn/install/source_windows?hl=en#gpu",target:"_blank",rel:"noopener noreferrer"},d=t(`<blockquote><p><span style="color:red;"> Note: GPU support on native-Windows is only available for 2.10 or earlier versions, starting in TF 2.11, CUDA build is not supported for Windows. For using TensorFlow GPU on Windows, you will need to build/install TensorFlow in WSL2 or use tensorflow-cpu with TensorFlow-DirectML-Plugin </span></p></blockquote><h2 id="确认环境变量" tabindex="-1"><a class="header-anchor" href="#确认环境变量"><span>确认环境变量</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 请参阅上面列出的硬件要求和软件要求，并阅读适用于 Windows 的 CUDA® 安装指南。</span>
<span class="token comment"># 确保安装的 NVIDIA 软件包与上面列出的版本一致。特别是，如果没有 cuDNN64_8.dll 文件，TensorFlow 将无法加载。如需使用其他版本，请参阅在 Windows 下从源代码构建指南。</span>
<span class="token comment"># 将 CUDA®、CUPTI 和 cuDNN 安装目录添加到 %PATH% 环境变量中。例如，如果 CUDA® 工具包安装到 </span>

C:<span class="token punctuation">\\</span>Program Files<span class="token punctuation">\\</span>NVIDIA GPU Computing Toolkit<span class="token punctuation">\\</span>CUDA<span class="token punctuation">\\</span>v11.0，并且 cuDNN 安装到 C:<span class="token punctuation">\\</span>tools<span class="token punctuation">\\</span>cuda，请更新 %<span class="token environment constant">PATH</span>% 以匹配路径：
SET <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>C:<span class="token punctuation">\\</span>Program Files<span class="token punctuation">\\</span>NVIDIA GPU Computing Toolkit<span class="token punctuation">\\</span>CUDA<span class="token punctuation">\\</span>v11.0<span class="token punctuation">\\</span>bin<span class="token punctuation">;</span>%<span class="token environment constant">PATH</span>%
SET <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>C:<span class="token punctuation">\\</span>Program Files<span class="token punctuation">\\</span>NVIDIA GPU Computing Toolkit<span class="token punctuation">\\</span>CUDA<span class="token punctuation">\\</span>v11.0<span class="token punctuation">\\</span>extras<span class="token punctuation">\\</span>CUPTI<span class="token punctuation">\\</span>lib64<span class="token punctuation">;</span>%<span class="token environment constant">PATH</span>%
SET <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>C:<span class="token punctuation">\\</span>Program Files<span class="token punctuation">\\</span>NVIDIA GPU Computing Toolkit<span class="token punctuation">\\</span>CUDA<span class="token punctuation">\\</span>v11.0<span class="token punctuation">\\</span>include<span class="token punctuation">;</span>%<span class="token environment constant">PATH</span>%
SET <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>C:<span class="token punctuation">\\</span>tools<span class="token punctuation">\\</span>cuda<span class="token punctuation">\\</span>bin<span class="token punctuation">;</span>%<span class="token environment constant">PATH</span>%
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装指南" tabindex="-1"><a class="header-anchor" href="#安装指南"><span>安装指南</span></a></h2>`,4),m={href:"https://tensorflow.google.cn/install/pip#windows-native",target:"_blank",rel:"noopener noreferrer"},k={href:"https://aka.ms/vs/17/release/vc_redist.x64.exe",target:"_blank",rel:"noopener noreferrer"},h=t(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>conda create <span class="token parameter variable">--name</span> TF-GPU <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.9</span>
conda deactivate
conda activate TF-GPU

conda <span class="token function">install</span> <span class="token parameter variable">-c</span> conda-forge <span class="token assign-left variable">cudatoolkit</span><span class="token operator">=</span><span class="token number">11.2</span> <span class="token assign-left variable">cudnn</span><span class="token operator">=</span><span class="token number">8.1</span>.0
pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> pip
pip <span class="token function">install</span> <span class="token string">&quot;tensorflow&lt;2.11&quot;</span> <span class="token parameter variable">-i</span> https://pypi.tuna.tsinghua.edu.cn/simple

python <span class="token parameter variable">-c</span> <span class="token string">&quot;import tensorflow as tf; print(tf.reduce_sum(tf.random.normal([1000, 1000])))&quot;</span>
python <span class="token parameter variable">-c</span> <span class="token string">&quot;import tensorflow as tf; print(tf.config.list_physical_devices(&#39;GPU&#39;))&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function v(b,w){const a=l("ExternalLinkIcon");return i(),p("div",null,[c,n("blockquote",null,[n("p",null,[s("windows受支持的版本对应关系 "),n("a",u,[s("windows受支持的版本对应关系"),e(a)])])]),d,n("blockquote",null,[n("p",null,[n("a",m,[s("参考资料"),e(a)])])]),n("blockquote",null,[n("p",null,[s("安装微软vs运行时 "),n("a",k,[s("https://aka.ms/vs/17/release/vc_redist.x64.exe"),e(a)])])]),h])}const f=o(r,[["render",v],["__file","4b0115.html.vue"]]),P=JSON.parse(`{"path":"/p2024/Python/4b0115.html","title":"在有GPU的windows上安装TensorFlow","lang":"zh-CN","frontmatter":{"permalink":"/p2024/Python/4b0115.html","lang":"zh-CN","title":"在有GPU的windows上安装TensorFlow","description":"在有GPU的windows上安装TensorFlow","isOriginal":true,"date":"2024-03-19T00:00:00.000Z","category":["GPU","TensorFlow"],"tag":["GPU","TensorFlow"],"head":[["meta",{"name":"keywords","content":"在有GPU的windows上安装TensorFlow,TensorFlow,GPU"}],["meta",{"property":"og:url","content":"https://hub.nstudy.org/p2024/Python/4b0115.html"}],["meta",{"property":"og:site_name","content":"Jack's 新学习基地"}],["meta",{"property":"og:title","content":"在有GPU的windows上安装TensorFlow"}],["meta",{"property":"og:description","content":"在有GPU的windows上安装TensorFlow"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-09T02:23:10.000Z"}],["meta",{"property":"article:author","content":"Jack"}],["meta",{"property":"article:tag","content":"GPU"}],["meta",{"property":"article:tag","content":"TensorFlow"}],["meta",{"property":"article:published_time","content":"2024-03-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-09T02:23:10.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在有GPU的windows上安装TensorFlow\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-19T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-09T02:23:10.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jack\\",\\"url\\":\\"https://hub.nstudy.org\\"}]}"]],"star":true,"sticky":true},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"依赖条件","slug":"依赖条件","link":"#依赖条件","children":[]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]},{"level":2,"title":"确认环境变量","slug":"确认环境变量","link":"#确认环境变量","children":[]},{"level":2,"title":"安装指南","slug":"安装指南","link":"#安装指南","children":[]}],"git":{"createdTime":1712629390000,"updatedTime":1712629390000,"contributors":[{"name":"lizhiquan","email":"lizhiquan@jianke.com","commits":1}]},"readingTime":{"minutes":1.52,"words":455},"filePathRelative":"05.Python/20240319_在有GPU的windows上安装TensorFlow.md","localizedDate":"2024年3月19日","excerpt":"<h2>背景</h2>\\n<blockquote>\\n<p>在有GPU的windows上安装TensorFlow</p>\\n</blockquote>\\n<h2>依赖条件</h2>\\n<blockquote>\\n<p>此文文档主要基于windows平台<br>\\n已经安装好GPU的驱动<br>\\n已经安装好 conda 环境</p>\\n</blockquote>\\n<h2>参考资料</h2>\\n<blockquote>\\n<p>windows受支持的版本对应关系 <a href=\\"https://tensorflow.google.cn/install/source_windows?hl=en#gpu\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">windows受支持的版本对应关系</a></p>\\n</blockquote>"}`);export{f as comp,P as data};
